{"version":3,"sources":["project/core.cljs"],"mappings":"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","names":["project.core/state","re_frame.core.reg_event_db","p__15479","vec__15480","cljs.core.nth","state","_","data","cljs.core.assoc","G__15483","G__15484","re-frame.core/reg-sub","project.core/get-character-list","p1__15485#","p1__15486#","p2__15487#","ajax.core.GET","G__15488","re-frame.core/dispatch","cljs.core.prn","project.core/move-list","move","fexpr__15490","cljs.core.keyword","fexpr__15491","fexpr__15492","fexpr__15493","project.core/character-list","character","iter__5523__auto__","s__15495","cljs.core/LazySeq","temp__5804__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__5521__auto__","size__5522__auto__","cljs.core/count","b__15497","cljs.core/chunk-buffer","i__15496","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__15494","cljs.core/chunk-rest","cljs.core/first","cljs.core/cons","cljs.core/rest","project.core/app","cljs.core/deref","characters","G__15498","re-frame.core/subscribe","s__15500","b__15502","i__15501","iter__15499","project.core/start","cljs.core.print","reagent.dom.render","js/document","cljs.core/chunk-first"],"sourcesContent":["(ns project.core\n  (:require\n   [re-frame.core :refer [subscribe dispatch reg-event-db reg-sub]]\n   [reagent.core]\n   [reagent.dom]\n   [ajax.core :refer [GET]]))\n\n(def state {:characters []})\n\n(reg-event-db\n :set-characters\n (fn\n   [state [_ data]]\n   (assoc state :characters data)))\n\n(reg-sub\n :characters\n (fn\n   [state]\n   (:characters state)))\n\n(defn get-character-list\n  []\n  (GET \"http://localhost:3000/characters\" {:response-format :json\n                                           :keywords? true\n                                           :handler #(dispatch [:set-characters %])\n                                           :error-handler #(prn %1 %2)\n                                           :headers {:content-type \"application/json\"}}))\n\n(defn move-list\n  [move]\n  [:div\n   {:style {:margin-bottom \".5rem\"}}\n   [:div {:style {:margin-right \"1rem\"\n                  :font-weight \"bold\"}} (str ((keyword \"move name\") move) \":\")]\n   [:span ((keyword \"move description\") move)]\n   (if (some? (:damage move))\n     [:div (str \"Damage: \" (:damage move))]\n     nil)\n   (if (some? ((keyword \"attack attributes\") move))\n     [:div\n      [:span \"Attributes: \"]\n      [:span ((keyword \"attack attributes\") move)]]\n     nil)])\n\n(defn character-list\n  [character]\n  [:<>\n   [:img {:src (:url character)\n          :on-click #(get-character-list)\n          :style {:cursor :pointer}}]\n   [:h3\n    {:key (:name character)}\n    (str \"Character: \" (:name character))]\n   (for [move (:abilities character)]\n     [:<>\n      {:key (str (:name character) move)}\n      [move-list move]])\n   [:br]\n   [:br]])\n\n(defn app\n  []\n  [:<>\n   [:div\n    {:style {:font-family :arial}}\n    (str \"Application\")]\n   [:button {:on-click #(get-character-list)}\n    \"Load Characters\"]\n   [:br]\n   [:br]\n   [:div\n    {:style {:font-family :arial}}\n    (let [characters @(subscribe [:characters])]\n      (for [character characters]\n        [:<>\n         {:key (:name character)}\n         [character-list character]]))]\n   [:br]])\n\n(defn ^:export start\n  []\n  (print \"app started\")\n  (reagent.dom/render [app] (.getElementById js/document \"app\")))\n"]}